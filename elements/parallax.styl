/**
 * Useage
 * .group.has-parallax
 *   .viewport-camera(optional for 3d Control)
 *     .parallax-layer
 *       .layer--fore
 *       .layer--base
 *       .layer--back
 */
.has-parallax
  height 100vh
  overflow hidden
  overflow-y auto
  perspective 301px
  scroll-behaviour smooth

.viewport-camera
  transform-style preserve-3d
  transform translate3d(0, 0, -800px) rotateY(20deg)

.has-parallax
  [class^="parallax-viewport"]    
    height 100vh
    position relative        
    transform-style preserve-3d
  [class^="layer"]
    display flex
    align-items center
    justify-content center
    position absolute
    width 100%
    height 100%

// requires z-index settings

.parallax-viewport
  &--1
    z-index 4
    background-color purple
  &--2
    z-index 1
  &--3
    background-color purple
    z-index 2

/**
 * Scale Factor
 * 1 + (translateZ * -1) / 1      => 2            || if translate is 
 * translateZ(-1px)               => scale(2)
 * font-size:                     => (2 * 100%)
 */

.layer
  // layer override requires !important
  &--base
    transform translateZ(0)    
  &--back
    transform translateZ(-301px) scale(2)    
    background-color green
  &--fore
    transform translateZ(170px) scale(.7)
    background-color rgba(250,250,50,.125)
